[{"name":"app.R","content":"# load packages for shiny app\r\nlibrary(shiny)\r\nlibrary(dplyr)\r\nlibrary(reactable)\r\nlibrary(bslib)\r\nlibrary(htmltools)\r\nlibrary(lubridate)\r\n\r\n# read in data\r\nload(url(\"https://raw.githubusercontent.com/nrennie/shinytweet/main/likes.RData\"))\r\n\r\n# UI ----------------------------------------------------------------------\r\n\r\n# Define UI ----\r\nui <- navbarPage(\r\n  # define title\r\n  title = \"shinytweet\",\r\n\r\n  # add theme\r\n  theme = bs_theme(\r\n    version = 4,\r\n    bootswatch = \"minty\",\r\n    primary = \"#12a79d\"\r\n  ),\r\n  # add warning\r\n  tags$div(\r\n    style = \"border: 1px solid #e6a700; background-color: #fff4cc; color: #5c4400; padding: 12px; border-radius: 4px; margin-bottom: 10px;\",\r\n    tags$strong(\"Warning: \"),\r\n    \"Due to changes in the Twitter API, this app is no longer updated. Some of the links may be broken.\"\r\n  ),\r\n  # add in table\r\n  tabPanel(\"Favourite Tweets\", reactable::reactableOutput(\"table_output\"))\r\n)\r\n\r\n\r\n# Define server logic  ----\r\nserver <- function(input, output) {\r\n  output$table_output <- reactable::renderReactable({\r\n    # create table\r\n    reactable::reactable(likes,\r\n      columns = list(\r\n        # define date\r\n        Date = colDef(\r\n          align = \"center\",\r\n          minWidth = 60\r\n        ),\r\n        # define user\r\n        User = colDef(\r\n          cell = function(User) {\r\n            htmltools::tags$a(\r\n              href = paste0(\"https://twitter.com/\", as.character(User)),\r\n              target = \"_blank\", paste0(\"@\", User)\r\n            )\r\n          },\r\n          minWidth = 60\r\n        ),\r\n        # define tweet text\r\n        Tweet = colDef(\r\n          align = \"left\",\r\n          minWidth = 120\r\n        ),\r\n        # define tweet url\r\n        URL = colDef(\r\n          cell = function(URL) {\r\n            htmltools::tags$a(\r\n              href = as.character(URL),\r\n              target = \"_blank\", as.character(URL)\r\n            )\r\n          }\r\n        ),\r\n        # define external link\r\n        Link = colDef(\r\n          cell = function(Link) {\r\n            htmltools::tags$a(\r\n              href = as.character(Link),\r\n              target = \"_blank\", as.character(Link)\r\n            )\r\n          }\r\n        )\r\n      ),\r\n      # additional table options\r\n      searchable = TRUE,\r\n      striped = TRUE,\r\n      defaultPageSize = 8\r\n    )\r\n  })\r\n}\r\n\r\n\r\n# Run app -----------------------------------------------------------------\r\n\r\n\r\nshinyApp(ui = ui, server = server)\r\n","type":"text"}]
